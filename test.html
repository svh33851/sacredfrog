<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Simple Music Player</title>
    <style>
        body {
            font-family: Arial, sans-serif;
            display: flex;
            justify-content: center;
            align-items: center;
            height: 100vh;
            margin: 0;
            background-color: #f0f0f0;
        }

        #player {
            width: 300px;
            height: 300px;
            background-color: #fff;
            border-radius: 10px;
            padding: 10px;
            box-shadow: 0 4px 8px rgba(0, 0, 0, 0.1);
        }

        #playlist {
            height: 100px;
            overflow-y: auto;
            margin-bottom: 10px;
            background-color: #f9f9f9;
            padding: 5px;
        }

        #playlist ul {
            list-style-type: none;
            padding: 0;
            margin: 0;
        }

        #playlist li {
            cursor: pointer;
            padding: 5px;
            margin: 2px 0;
            transition: background-color 0.3s;
        }

        #playlist li:hover {
            background-color: #007bff;
            color: white;
        }

        #playlist li.active {
            background-color: #007bff;
            color: white;
        }

        #now-playing {
            padding: 5px;
            text-align: center;
            margin-bottom: 10px;
        }

        #time {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 10px;
        }

        #seekbar {
            width: 100%;
        }

        #controls {
            display: flex;
            justify-content: space-around;
            margin-bottom: 10px;
        }

        button {
            padding: 5px;
            background-color: #007bff;
            color: white;
            border: none;
            border-radius: 5px;
            cursor: pointer;
        }

        button:hover {
            background-color: #0056b3;
        }

        input[type="range"] {
            width: 100%;
        }
    </style>
</head>
<body>

    <div id="player">
        <!-- Playlist -->
        <div id="playlist">
            <ul id="song-list">
                <!-- Song List Will Be Populated Here -->
            </ul>
        </div>

        <!-- Now Playing -->
        <div id="now-playing">Now Playing: None</div>

        <!-- Time, Seekbar, Duration -->
        <div id="time">
            <span id="current-time">0:00</span>
            <input type="range" id="seekbar" value="0" max="100" step="1">
            <span id="duration">0:00</span>
        </div>

        <!-- Playback Controls -->
        <div id="controls">
            <button id="prev">‚èÆ</button>
            <button id="play-pause">‚ñ∂</button>
            <button id="next">‚è≠</button>
            <button id="shuffle">üîÄ</button>
        </div>

        <!-- Volume Control -->
        <div id="volume-control">
            <input type="range" id="volume" min="0" max="1" step="0.01" value="1">
        </div>
    </div>

    <script>
        const audio = new Audio();
        const songListElem = document.getElementById('song-list');
        const nowPlayingElem = document.getElementById('now-playing');
        const currentTimeElem = document.getElementById('current-time');
        const durationElem = document.getElementById('duration');
        const seekbar = document.getElementById('seekbar');
        const playPauseButton = document.getElementById('play-pause');
        const prevButton = document.getElementById('prev');
        const nextButton = document.getElementById('next');
        const shuffleButton = document.getElementById('shuffle');
        const volumeControl = document.getElementById('volume');

        let songs = [];
        let currentIndex = 0;
        let isPlaying = false;
        let isShuffling = false;

        // Fetch songs from "songs/" folder
        fetchSongs();

        // Volume control
        volumeControl.addEventListener('input', () => {
            audio.volume = volumeControl.value;
        });

        // Play/Pause functionality
        playPauseButton.addEventListener('click', () => {
            if (isPlaying) {
                audio.pause();
                playPauseButton.textContent = '‚ñ∂';
            } else {
                audio.play();
                playPauseButton.textContent = '‚ùö‚ùö';
            }
            isPlaying = !isPlaying;
        });

        // Previous song functionality
        prevButton.addEventListener('click', () => {
            currentIndex = (currentIndex - 1 + songs.length) % songs.length;
            loadSong();
        });

        // Next song functionality
        nextButton.addEventListener('click', () => {
            currentIndex = (currentIndex + 1) % songs.length;
            loadSong();
        });

        // Shuffle functionality
        shuffleButton.addEventListener('click', () => {
            isShuffling = !isShuffling;
            shuffleButton.style.backgroundColor = isShuffling ? '#28a745' : '#007bff';
            if (isShuffling) {
                shuffleSongs();
            } else {
                songs = [...songs];
            }
            loadSong();
        });

        // Seekbar functionality
        audio.addEventListener('timeupdate', () => {
            const currentTime = audio.currentTime;
            const duration = audio.duration;
            if (duration) {
                currentTimeElem.textContent = formatTime(currentTime);
                durationElem.textContent = formatTime(duration);
                seekbar.value = (currentTime / duration) * 100;
            }
        });

        // Seekbar input functionality
        seekbar.addEventListener('input', () => {
            const seekValue = seekbar.value / 100;
            audio.currentTime = audio.duration * seekValue;
        });

        // Load song
        function loadSong() {
            audio.src = songs[currentIndex].url;
            nowPlayingElem.textContent = `Now Playing: ${songs[currentIndex].name}`;
            if (isPlaying) {
                audio.play();
            } else {
                playPauseButton.textContent = '‚ñ∂';
            }
            highlightCurrentSong();
        }

        // Format time in minutes:seconds
        function formatTime(seconds) {
            const mins = Math.floor(seconds / 60);
            const secs = Math.floor(seconds % 60);
            return `${mins}:${secs < 10 ? '0' : ''}${secs}`;
        }

        // Shuffle the playlist
        function shuffleSongs() {
            for (let i = songs.length - 1; i > 0; i--) {
                const j = Math.floor(Math.random() * (i + 1));
                [songs[i], songs[j]] = [songs[j], songs[i]];
            }
        }

        // Highlight the current song in the playlist
        function highlightCurrentSong() {
            const songItems = document.querySelectorAll('#song-list li');
            songItems.forEach((item, index) => {
                if (index === currentIndex) {
                    item.classList.add('active');
                } else {
                    item.classList.remove('active');
                }
            });
        }

        // Fetch songs from "songs/" folder
        function fetchSongs() {
            // Example of songs list. This should be dynamically generated or populated.
            songs = [
                { name: 'Song 1', url: 'songs/song1.mp3' },
                { name: 'Song 2', url: 'songs/song2.mp3' },
                { name: 'Song 3', url: 'songs/song3.mp3' }
            ];

            // Populate the playlist
            songs.forEach((song, index) => {
                const li = document.createElement('li');
                li.textContent = song.name;
                li.addEventListener('click', () => {
                    currentIndex = index;
                    loadSong();
                });
                songListElem.appendChild(li);
            });

            // When a song ends, load the next one
            audio.addEventListener('ended', () => {
                if (isShuffling) {
                    currentIndex = Math.floor(Math.random() * songs.length);
                } else {
                    currentIndex = (currentIndex + 1) % songs.length;
                }
                loadSong();
            });

            loadSong();
        }
    </script>

</body>
</html>
